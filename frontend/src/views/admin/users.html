<nav class="navbar">
    <a href="#/admin" class="logo"><span>Park</span>platz</a>
    <div class="nav-links">
        <a href="#/admin">Panel Admin</a>
        <a href="#/admin/users" class="active">Usuarios</a>
        <a href="#" style="pointer-events: none; opacity: 0.5;">Ajustes</a>
    </div>
    <div class="user-profile">
        <span id="userName" class="user-info">Cargando...</span>
        <div id="userInitials" class="avatar">A</div>
        <button id="logoutBtn" class="btn btn-logout">Cerrar sesión</button>
    </div>
</nav>

<main>
    <div class="page-header">
        <div>
            <h1>Gestión de Usuarios</h1>
            <p>Administra los usuarios del sistema, sus roles y estados.</p>
        </div>
        <div style="display: flex; gap: 10px;">
            <button id="btnCreateUser" class="btn btn-primary" style="background-color: var(--primary); color: white; border: none; padding: 10px 20px; border-radius: 6px; cursor: pointer; font-weight: 600;">Crear Usuario</button>
        </div>
    </div>

    <div class="card" style="padding: 0;">
        <table class="data-table">
            <thead>
                <tr>
                    <th>Usuario</th>
                    <th>Email</th>
                    <th>Rol</th>
                    <th>Nombre</th>
                    <th>Estado</th>
                    <th>Acciones</th>
                </tr>
            </thead>
            <tbody id="usersTableBody">
                <tr>
                    <td colspan="6" style="text-align: center; padding: 20px;">Cargando usuarios...</td>
                </tr>
            </tbody>
        </table>
    </div>
</main>

<!-- Modal Crear/Editar Usuario -->
<div id="userModal" class="modal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); align-items: center; justify-content: center; z-index: 1000;">
    <div class="modal-content" style="background: white; padding: 30px; border-radius: 12px; width: 400px; max-width: 90%; box-shadow: 0 4px 20px rgba(0,0,0,0.2);">
        <h2 id="modalTitle" style="margin-bottom: 20px; color: var(--text-color);">Crear Usuario</h2>
        <form id="userForm">
            <input type="hidden" id="userId">
            
            <div class="form-group" style="margin-bottom: 15px;">
                <label style="display: block; margin-bottom: 5px; font-weight: 500; color: var(--text-muted);">Nombre Completo</label>
                <input type="text" id="nombres_apellidos" required style="width: 100%; padding: 10px; border: 1px solid var(--border); border-radius: 6px;">
            </div>

            <div class="form-group" style="margin-bottom: 15px;">
                <label style="display: block; margin-bottom: 5px; font-weight: 500; color: var(--text-muted);">Usuario</label>
                <input type="text" id="username" required style="width: 100%; padding: 10px; border: 1px solid var(--border); border-radius: 6px;">
            </div>

            <div class="form-group" style="margin-bottom: 15px;">
                <label style="display: block; margin-bottom: 5px; font-weight: 500; color: var(--text-muted);">Email</label>
                <input type="email" id="email" required style="width: 100%; padding: 10px; border: 1px solid var(--border); border-radius: 6px;">
            </div>

            <div class="form-group" style="margin-bottom: 15px;">
                <label style="display: block; margin-bottom: 5px; font-weight: 500; color: var(--text-muted);">Rol</label>
                <select id="rol_id" required style="width: 100%; padding: 10px; border: 1px solid var(--border); border-radius: 6px;">
                    <option value="">Cargando roles...</option>
                </select>
            </div>

            <div class="form-group" style="margin-bottom: 20px;">
                <label style="display: block; margin-bottom: 5px; font-weight: 500; color: var(--text-muted);">Contraseña</label>
                <input type="password" id="password" placeholder="Mínimo 6 caracteres" style="width: 100%; padding: 10px; border: 1px solid var(--border); border-radius: 6px;">
                <small id="passwordHelp" style="color: var(--text-muted); font-size: 12px;">Requerida para crear. Dejar en blanco para no cambiar al editar.</small>
            </div>

            <div style="display: flex; justify-content: flex-end; gap: 10px;">
                <button type="button" id="btnCancelModal" class="btn" style="background: transparent; border: 1px solid var(--border); padding: 8px 16px; border-radius: 6px; cursor: pointer;">Cancelar</button>
                <button type="submit" class="btn btn-primary" style="background-color: var(--primary); color: white; border: none; padding: 8px 16px; border-radius: 6px; cursor: pointer;">Guardar</button>
            </div>
        </form>
    </div>
</div>
